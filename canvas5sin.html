<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>My Canvas</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <canvas width="1024" height="768">
    Canvas not supported.
  </canvas>

  <script>
	  'use strict';

{
	let t=0;

  function draw() {
    const canvas = document.querySelector('canvas');
    if (typeof canvas.getContext === 'undefined') {
      return;
    }
    const ctx = canvas.getContext('2d');


//解像度
const CANVAS_WIDTH=1024;
const CANVAS_HEIGHT=768;
const dpr =window.devicePixelRatio || 1;
canvas.width=CANVAS_WIDTH*dpr;
canvas.height=CANVAS_HEIGHT*dpr;

ctx.scale(dpr,dpr);
canvas.style.width=CANVAS_WIDTH+'px';
canvas.style.height=CANVAS_HEIGHT+'px';


/*
var items = [1,2,3,4];

//配列「items」に数値データを追加する
items.push(5);

alert( items[2] );
*/

var zahyou=[];

function onClick(e) {
  var x01 = e.clientX - canvas.offsetLeft;
  var y01 = e.clientY - canvas.offsetTop;
  zahyou.push(x01,y01);
  ctx.beginPath();
  ctx.moveTo(x01, y01);
}

function onClick(e) {
  var x02 = e.clientX - canvas.offsetLeft;
  var y02 = e.clientY - canvas.offsetTop;
  zahyou.push(x02,y02);
  ctx.lineTo(x02, y02);
}

function onClick(e) {
  var x03 = e.clientX - canvas.offsetLeft;
  var y03 = e.clientY - canvas.offsetTop;
  zahyou.push(x03,y03);
  //ctx.beginPath();
  //ctx.moveTo(x02, y02);
  ctx.lineTo(x03, y03);
  ctx.closePath();
  ctx.fillStyle='skyblue';
  ctx.stroke();
  }

canvas.addEventListener('click', onClick, true);


/*

//triangle RANDOM
    ctx.beginPath();

	var www=1024-768;
    var x01=Math.random()*www;
    var y01=Math.random()*www;
    var x02=Math.random()*www;
    var y02=Math.random()*www;
    var x03=Math.random()*www;
    var y03=Math.random()*www;
*/

// //三角形描画
// alert(zahyou[0]);
//     ctx.moveTo(x01,y01);
//     ctx.lineTo(x02,y02);
//     ctx.lineTo(x03,y03);
//     //ctx.lineTo(x01, y01);
//     ctx.closePath();
//     ctx.fillStyle='skyblue';
//     ctx.stroke();

// //三角形描画
// //alert(zahyou);
// ctx.moveTo(zahyou[0], zahyou[1]);
//     ctx.lineTo(zahyou[2], zahyou[3]);
//     ctx.lineTo(zahyou[4], zahyou[5]);
//     //ctx.lineTo(x01, y01);
//     ctx.closePath();
//     ctx.fillStyle='skyblue';
//     ctx.stroke();

/*

//直角三角形
    var x01=0;
    var y01=0;
    var x02=0+30;
    var y02=0;
    var x03=0+0;
    var y03=0+40;

//正三角形
    var x01=200;
    var y01=200;
    var x02=200+100;
    var y02=200;
    var x03=200+50;
    var y03=200-50*Math.pow(3,1/2);
*/



    // ctx.moveTo(x01, y01);
    // ctx.lineTo(x02, y02);
    // ctx.lineTo(x03, y03);
    // ctx.fillStyle='skyblue';
    // ctx.fill();

//３辺の長さ
    var c=Math.pow(Math.pow(x01-x02,2)+Math.pow(y01-y02,2),1/2);
    var a=Math.pow(Math.pow(x02-x03,2)+Math.pow(y02-y03,2),1/2);
    var b=Math.pow(Math.pow(x03-x01,2)+Math.pow(y03-y01,2),1/2);
//三角形の面積
    var s=(a+b+c)/2;
    var S=Math.pow((s*(s-a)*(s-b)*(s-c)),1/2);
    //Math.pow(s*s,1/2);
//接円半径
	var r=(2*S)/(a+b+c);
	var R=(a*b*c)/(4*r*s)

//内心
	var x00=(a*x01+b*x02+c*x03)/(a+b+c);
	var y00=(a*y01+b*y02+c*y03)/(a+b+c);
//外心
	var x0O=(a*a*(b*b+c*c-a*a)*x01+b*b*(c*c+a*a-b*b)*x02+c*c*(a*a+b*b-c*c)*x03)/(16*S*S)
	var y0O=(a*a*(b*b+c*c-a*a)*y01+b*b*(c*c+a*a-b*b)*y02+c*c*(a*a+b*b-c*c)*y03)/(16*S*S)
//垂心

//重心
	var x0g=(x01+x02+x03)/3;
	var y0g=(y01+y02+y03)/3;

	ctx.moveTo(x01, y01);
    ctx.lineTo(x0g, y0g);
    ctx.strokeStyle="blue";
    ctx.stroke();

	ctx.moveTo(x02, y02);
    ctx.lineTo(x0g, y0g);
    ctx.strokeStyle="blue";
    ctx.stroke();

    ctx.moveTo(x03, y03);
    ctx.lineTo(x0g, y0g);
    ctx.strokeStyle="blue";
    ctx.stroke();

//正円
//内接円
	ctx.beginPath();
	//ctx.arc(50,50,c ,0,2*Math.PI);//中心,中心,半径,start-中心角,end-中心角
	ctx.arc(x00,y00,r ,0,2*Math.PI);
	ctx.stroke();
//外接円
	ctx.beginPath();
	ctx.arc(x0O,y0O,R ,0,2*Math.PI);
	ctx.stroke();

	ctx.moveTo(x00, y00);
    ctx.lineTo(x0O, y0O);
    ctx.strokeStyle="red";
    ctx.stroke();

    ctx.moveTo(x0O, y0O);
    ctx.lineTo(x0g, y0g);
    ctx.strokeStyle="yellow";
    ctx.stroke();

    ctx.moveTo(x00, y00);
    ctx.lineTo(x0g, y0g);
    ctx.strokeStyle="yellow";
    ctx.stroke();



  }

  draw();
}
  </script>
</body>
</html>